{% extends "base-openlayers.html" %}



{% block title %}Locations{% endblock %}



{% block javascript %}
<script type="text/javascript" src="http://openlayers.org/api/OpenLayers.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    // basic map
    var map = new OpenLayers.Map('openlayers-map');
    var wms = new OpenLayers.Layer.WMS(
        "OpenLayers WMS",
        "http://vmap0.tiles.osgeo.org/wms/vmap0",
        { layers: 'basic' }
    );
    map.addLayer(wms);
    // markers
    var vectorLayer = new OpenLayers.Layer.Vector("Overlay");
{% for location in locations %}
    var feature = new OpenLayers.Feature.Vector(
        new OpenLayers.Geometry.Point({{ location.lng }},{{ location.lat }}),
        { some:'data' }, { externalGraphic:'{{ MEDIA_URL }}img/logo-black.png', graphicHeight:30, graphicWidth:43 }
    );
    vectorLayer.addFeatures(feature);
{% endfor %}
    map.addLayer(vectorLayer);
    // set center, zoom
    if (!map.getCenter()) {
        map.setCenter(new OpenLayers.LonLat(-100,38), 5);
    }
  });
</script>
{% endblock javascript %}



{% block contents %}

<h1 id="firstHeading" class="firstHeading">
Locations
</h1>

<div id="openlayers-map" style="width:100%; height:100%"></div>

{% endblock contents %}
